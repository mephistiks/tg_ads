<<<<<<< Updated upstream:templates/list_posts.html
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/styles.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Gothic&family=Poppins&display=swap" rel="stylesheet">
	<title>Список всех постов</title>
</head>
<body>
    <div class="hat">
        <a href="/list" class="hat_a">
            <div class="hat_letter">
                <p class="hat_text">Список всех постов</p>
            </div>
        </a>
        <a href="/create" class="hat_a">
            <div class="hat_letter">
                <p class="hat_text">Создать новый пост</p>
            </div>
        </a>
    </div>
    <hr class="hat_hr">

    <button onclick="get_p(event)">Get Posts</button>

    <ul id='posts'>
        <li> niggers</li>
    </ul>
    <script>
        function add_element(name) {
            let li = document.createElement('li');
            li.textContent = name;
            return li;
        }
        async function get_p(event) {
            let response = await fetch('http://127.0.0.1:8000/api/posts', {
                headers: {
                    'accept': 'application/json'
                }
            });
            let result = await response.text;
            var posts = document.getElementById('posts')
            posts.appendChild(add_element(result))
        }

    </script>
</body>
=======
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/styles.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Gothic&family=Poppins&display=swap" rel="stylesheet">
	<title>Список всех постов</title>
</head>
<body>
    <div class="hat">
        <a href="/list" class="hat_a">
            <div class="hat_letter">
                <p class="hat_text">Список всех постов</p>
            </div>
        </a>
        <a href="/create" class="hat_a">
            <div class="hat_letter">
                <p class="hat_text">Создать новый пост</p>
            </div>
        </a>
    </div>
    <hr class="hat_hr">

    <button onclick="get_p(event)">Get Posts</button>

    <ul id='posts'>
        <li> niggers</li>
    </ul>
    <script>
        function add_element(name) {
            let li = document.createElement('li');
            li.textContent = name;
            return li;
        }
        async function get_p(event) {
            let r = await fetch('http://127.0.0.1:8000/api/posts', {
                method: "GET",
                headers: {
                    'accept': 'application/json'
                }
            });
            //for (let i = 0; i<2; i++){
            //    console.log(r[i]);
            //}
            let q = await r.json();
            //console.log(r);
            console.log(q);
            //console.log(r.body);
            //console.log(await r.text());
            //console.log(r.body);
            //console.log(q);

            var posts = document.getElementById('posts')
            posts.appendChild(add_element(q.text))
        }

    </script>
</body>
>>>>>>> Stashed changes:fastapi/templates/list_posts.html
</html>